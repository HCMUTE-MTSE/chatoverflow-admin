## Client

### Data Fetching

The data fetching stuffs is handle by

-  `app\lib\data.ts`: For fetching data, you can think of it as handle GET requests
-  `app\lib\action.ts`: For mutating data, you can think of it as handle POST, PUT... requests

In order to migrate to NestJS API, simply you need to change the code in that files, instead of query data directly, we creata fetcher function to the that API:

To be as simple as possible, we will **NOT** use axios (it a not ideal choice with NextJS), we will use [SWR](https://swr.vercel.app/)

```ts
export async function fetchRevenue() {
   try {
      const data = await sql<Revenue>`SELECT * FROM revenue`;
      return data.rows;
   } catch (error) {
      console.error('Database Error:', error);
      throw new Error('Failed to fetch revenue data.');
   }
}
```

=>

```ts
export async function fetchRevenue() {
   try {
      const { data, error } = useSWR('htttp://localhost:3001/revenue', fetcher); --> Endpoint from NestJS
      return data;
   } catch (error) {
      console.error('Database Error:', error);
      throw new Error('Failed to fetch revenue data.');
   }
}
```

### Routing

This project using folder based routing.

To be simple, if you want to create a new `question` route, you need to create a new folder named `question` inside the `app/dashboard` folder.

## API

The api should be as simple as possible.

1. Shared:

-  src\common -> Shared utilities, guards, interceptors, filters, constants
-  src\database -> Database connection & entities if needed

2. Modules:

-  `src\features\users` -> User module, if you doing this module, try to implement all logic related to user inside this module. This seem like not a good practice but it'll defenely help us **prevent merge conflicts**.

-  The same as other modules, if you doing `question` -> create new folder`src\features\question`

-  When you complete a module, simply import it to the `src\app\app.module.ts`
